<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/reset.css">
    <script src="./js/jquery-3.6.0.min.js"></script>
    <script src="./js/jquery-ui.min.js"></script>
    <script>
        $(function(){
            var i = 0;
            var va = $('.var');
            var ag = $('.artGroup');
            var artvar = $('.slideVar').css('width');
            console.log(artvar);

            va.draggable({
                // revert: true,
                containment:'.slideVar',
                axis:'x',
                drag:function(){
                    artvar = parseInt(artvar);
                    var posi = $(this).position().left;
                    var barwd = parseInt($(this).css('width'));
                    var sent = posi / (artvar-barwd) * 100;     
                    ag.css({marginLeft : -sent+'%'});
                }
            });
        });
    </script>
    <style>
        section{
            width: 80%;
            max-width: 1080px;
            margin: 100px auto;
            overflow: hidden;
        }
        .slideVar{
            height: 40px;
            background-color: #ccc;
            position: relative;
        }
        .var{
            width: calc(100% / 8);
            height: 40px;
            background-color: black;
            position: absolute;
            top: 0;
            left: 0;
        }
        .artGroup{
            margin-top: 80px;
            width: 200%;
            height: 280px;
            display: flex;
            justify-content: space-between;
        }
        .article{
            background-color: #ccc;
            width: calc(100% / 8 - 20px);
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
        }
        .article.i1{
            background-image: url('./images/test_pic03.jpg');
        }
        .article.i2{
            background-image: url('./images/test_pic02.jpg');
        }
        .article.i3{
            background-image: url('./images/test_pic01.jpg');
        }
        .article.i4{
            background-image: url('./images/cnt02_pic03.jpg');
        }
        .article.i5{
            background-image: url('./images/cnt02_pic02.jpg');
        }
        .article.i6{
            background-image: url('./images/cnt02_pic01.jpg');
        }
        .article.i7{
            background-image: url('./images/cnt01_pic02.jpg');
        }
        .article.i8{
            background-image: url('./images/cnt01_pic01.jpg');
        }
    </style>
</head>
<body>
    <section>
        <div class="slideVar">
            <div class="var"></div>
        </div>
        <div class="artGroup">
            <div class="article i1"></div>
            <div class="article i2"></div>
            <div class="article i3"></div>
            <div class="article i4"></div>
            <div class="article i5"></div>
            <div class="article i6"></div>
            <div class="article i7"></div>
            <div class="article i8"></div>
        </div>
    </section>
</body>
</html>